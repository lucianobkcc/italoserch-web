<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Italosearch: Centro de Investigaciones y Herramientas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for the crown icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Chosen Palette: Warm Neutrals with subtle accents -->
    <!-- Application Structure Plan: A single-page application serving as a comprehensive investment hub. The header navigation now includes "Inicio", "Investigaciones", "WIKI", "Principios", "Bitcoin", and "Herramientas". Each navigation item dynamically reveals its corresponding content section. The "Herramientas" section contains two distinct financial calculators (Bitcoin DCA and Compound Interest). Background colors change based on the active section (light orange for Bitcoin, light blue for others). A dynamic raining effect of Bitcoin coins is present only on the Bitcoin section. A new section for the Bitcoin White Paper explanation is added, accessible via a button on the Bitcoin page. This structure provides intuitive navigation, clear segregation of content types, and extensible for future additions. -->
    <!-- Visualization & Content Choices: Expandable Cards (Wiki, Crypto, Risks/Opps) -> Goal: Inform/Organize -> Clickable cards with hidden details -> Enhanced readability, prevents information overload. Bitcoin DCA Calculator -> Goal: Simulate/Educate -> Interactive inputs, Chart.js line chart -> Visualizes potential growth, user-driven exploration. Compound Interest Calculator -> Goal: Calculate/Educate -> Interactive inputs, Chart.js line chart -> Demonstrates power of compounding, user-driven exploration. Dynamic background colors and Bitcoin coin rain effect -> Goal: Aesthetic/Thematic for Bitcoin section, clean for others. All charts are responsive and use Canvas. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.5s ease; /* Smooth transition for background color */
            color: #383838;
            overflow-x: hidden; /* Prevent horizontal scroll due to rain elements */
        }
        .bg-custom-blue-light { background-color: #F0F8FF; } /* AliceBlue (celeste claro) */
        .bg-custom-orange-light { background-color: #FFF8EB; } /* Slightly more orange than FloralWhite (naranja clarito) */

        .main-card {
            background-color: #FFFFFF;
            border: 1px solid #E5E7EB;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .main-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.05), 0 4px 6px -4px rgb(0 0 0 / 0.05);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .kpi-card {
            background-color: #FFFFFF;
            border: 1px solid #E5E7EB;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.05), 0 4px 6px -4px rgb(0 0 0 / 0.05);
        }
        .nav-link {
            transition: color 0.2s;
        }
        .nav-link:hover {
            color: #4A90E2;
        }
        .expandable-card .details {
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            visibility: hidden;
            padding-top: 0;
            padding-bottom: 0;
            transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out, visibility 0.5s ease-in-out, padding 0.5s ease-in-out;
        }
        .expandable-card.open .details {
            max-height: 500px; /* Adjust as needed for content length */
            opacity: 1;
            visibility: visible;
            padding-top: 1rem; /* pt-4 */
            padding-bottom: 1rem; /* pb-4 */
        }
        .expandable-card button .arrow {
            transition: transform 0.3s ease-in-out;
        }
        .expandable-card.open button .arrow {
            transform: rotate(180deg);
        }
        /* Style for calculator inputs */
        input[type="number"] {
            -moz-appearance: textfield; /* Firefox */
        }
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none; /* Chrome, Safari, Edge */
            margin: 0;
        }

        /* Rain effects */
        .rain-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: -1; /* Ensure it's behind content */
        }

        .rain-item {
            position: absolute;
            opacity: 0; /* Start invisible */
            animation: fall linear infinite;
            white-space: nowrap; /* Prevent emoji from wrapping */
        }

        @keyframes fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } /* Added rotation for coins */
        }

        /* Custom style for Bitcoin White Paper button */
        .bitcoin-whitepaper-button {
            background: linear-gradient(to bottom, #FFD700, #DAA520); /* Golden gradient */
            color: #4A2B00; /* Dark brown for text */
            padding: 0.75rem 1.5rem;
            border-radius: 9999px; /* Rounded-full */
            font-weight: 600; /* Semibold */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: all 0.2s ease-in-out;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(255, 215, 0, 0.5); /* Lighter border */
            position: relative; /* For crown positioning */
        }
        .bitcoin-whitepaper-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            background: linear-gradient(to top, #FFD700, #DAA520); /* Reverse gradient on hover */
        }
        .bitcoin-whitepaper-button .fa-crown {
            position: absolute;
            top: -10px; /* Adjust as needed */
            left: 50%;
            transform: translateX(-50%);
            color: #FFD700; /* Golden color for crown */
            font-size: 1.2rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        /* Styling for the White Paper Index */
        .whitepaper-index {
            background-color: #f9fafb; /* Light gray background */
            padding: 1.5rem;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
        }

        .whitepaper-index h3 {
            font-size: 1.25rem; /* text-xl */
            font-weight: 700; /* font-bold */
            color: #383838;
            margin-bottom: 1rem;
            text-align: center;
        }

        .whitepaper-index ul {
            list-style: none;
            padding: 0;
            display: grid;
            grid-template-columns: 1fr; /* Single column on small screens */
            gap: 0.75rem; /* gap-3 */
        }

        @media (min-width: 768px) {
            .whitepaper-index ul {
                grid-template-columns: repeat(2, 1fr); /* Two columns on medium screens and up */
            }
        }

        .whitepaper-index li a {
            display: block;
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem; /* rounded-lg */
            background-color: #ffffff; /* White background for links */
            border: 1px solid #e5e7eb;
            color: #4a90e2; /* Blue text for links */
            font-weight: 500; /* font-medium */
            transition: background-color 0.2s, color 0.2s, transform 0.1s;
        }

        .whitepaper-index li a:hover {
            background-color: #eff6ff; /* Light blue on hover */
            color: #2c5282; /* Darker blue on hover */
            transform: translateY(-2px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>
<body class="antialiased bg-custom-blue-light">

    <!-- Rain layer container -->
    <div id="rain-layer" class="rain-layer"></div>

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <button id="homeButton" class="font-bold text-xl text-gray-800 focus:outline-none">Italosearch</button>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <button id="homeNavLink" class="nav-link text-gray-600 px-3 py-2 rounded-md text-sm font-medium">Inicio</button>
                        <button id="investigacionesNavLink" class="nav-link text-gray-600 px-3 py-2 rounded-md text-sm font-medium">Investigaciones</button>
                        <button id="wikiNavLink" class="nav-link text-gray-600 px-3 py-2 rounded-md text-sm font-medium">WIKI</button>
                        <button id="principiosNavLink" class="nav-link text-gray-600 px-3 py-2 rounded-md text-sm font-medium">Principios</button>
                        <button id="cryptoNavLink" class="nav-link text-gray-600 px-3 py-2 rounded-md text-sm font-medium">Bitcoin</button>
                        <button id="herramientasNavLink" class="nav-link text-gray-600 px-3 py-2 rounded-md text-sm font-medium">Herramientas</button>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">

        <!-- Home View -->
        <section id="italosearch-home" class="view-section">
            <div class="text-center mb-16">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">Bienvenido a Italosearch</h1>
                <p class="mt-4 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">Tu centro personal para la investigación y el análisis de inversiones.</p>
                <p class="mt-2 text-md text-gray-500 max-w-xl mx-auto">Explora nuestras investigaciones, aprende sobre terminología clave y descubre principios fundamentales de inversión.</p>
            </div>

            <h2 class="text-3xl font-bold text-gray-800 mb-2 text-center">Explora Más</h2>
            <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">Navega a nuestras secciones dedicadas para un conocimiento más profundo.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                 <div id="quick-link-investigaciones" class="main-card p-6 rounded-lg cursor-pointer text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Investigaciones de Empresas</h3>
                    <p class="text-gray-600">Accede a nuestros análisis detallados de empresas para tomar decisiones informadas.</p>
                    <button class="mt-4 inline-block bg-blue-500 text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-blue-600 transition-colors">Ver Investigaciones</button>
                </div>
                <div id="quick-link-wiki" class="main-card p-6 rounded-lg cursor-pointer text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">WIKI de Inversión</h3>
                    <p class="text-gray-600">Aprende la jerga del mercado con definiciones claras de los términos más importantes.</p>
                    <button class="mt-4 inline-block bg-teal-500 text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-teal-600 transition-colors">Explorar WIKI</button>
                </div>
                <div id="quick-link-principios" class="main-card p-6 rounded-lg cursor-pointer text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Principios de Inversión</h3>
                    <p class="text-gray-600">Descubre las filosofías que guían a los inversores más exitosos, como Warren Buffett.</p>
                    <button class="mt-4 inline-block bg-purple-500 text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-purple-600 transition-colors">Ver Principios</button>
                </div>
                <div id="quick-link-crypto" class="main-card p-6 rounded-lg cursor-pointer text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Bitcoin</h3>
                    <p class="text-gray-600">Explora la primera y más grande criptomoneda: Bitcoin.</p>
                    <button class="mt-4 inline-block bg-yellow-500 text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-yellow-600 transition-colors">Explorar Bitcoin</button>
                </div>
                <div id="quick-link-herramientas" class="main-card p-6 rounded-lg cursor-pointer text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Herramientas</h3>
                    <p class="text-gray-600">Calculadoras de inversión para ayudarte a planificar tu futuro financiero.</p>
                    <button class="mt-4 inline-block bg-green-500 text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-green-600 transition-colors">Ver Herramientas</button>
                </div>
            </div>
        </section>

        <!-- Investigaciones Section -->
        <section id="investigaciones-section" class="hidden view-section">
            <div class="flex justify-start mb-6">
                <button class="back-to-home bg-gray-200 text-gray-700 px-4 py-2 rounded-md flex items-center space-x-2 hover:bg-gray-300 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H16a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                    </svg>
                    <span>Volver al Inicio</span>
                </button>
            </div>
            <h2 class="text-3xl font-bold text-gray-800 mb-2 text-center">Nuestras Investigaciones</h2>
            <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">Explora nuestros análisis detallados de empresas para tomar decisiones de inversión informadas.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div id="globant-card" class="main-card p-6 rounded-lg cursor-pointer">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Análisis de Inversión: Globant (GLOB)</h3>
                    <p class="text-gray-600">Un estudio profundo sobre las finanzas, valoración, riesgos y oportunidades de Globant.</p>
                    <button class="mt-4 inline-block bg-blue-500 text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-blue-600 transition-colors">Ver Análisis</button>
                </div>
                <!-- Future research cards will go here -->
            </div>
        </section>

        <!-- Globant Analysis View -->
        <section id="globant-analysis-view" class="hidden view-section">
            <div class="flex justify-start mb-6">
                <button class="back-to-investigaciones bg-gray-200 text-gray-700 px-4 py-2 rounded-md flex items-center space-x-2 hover:bg-gray-300 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H16a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                    </svg>
                    <span>Volver a Investigaciones</span>
                </button>
            </div>

            <!-- Content of Globant Investment Dashboard SPA starts here -->
            <section class="text-center mb-16">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">Análisis Interactivo de Inversión: Globant</h1>
                <p class="mt-4 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">¿Una oportunidad subvalorada por la IA o una trampa de valor en un mercado incierto?</p>
                <div class="mt-8 inline-block bg-blue-100 text-blue-800 text-lg font-semibold px-6 py-3 rounded-full">
                    Veredicto: Compra Especulativa a Largo Plazo
                </div>
            </section>

            <section class="mb-16">
                <h2 class="text-3xl font-bold text-gray-800 mb-2 text-center">Resumen Clave</h2>
                <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">Esta sección ofrece una vista rápida de los indicadores más importantes. Aquí puedes ver el estado actual de la acción, su valoración según analistas y modelos, y de dónde provienen sus ingresos, dándote una base sólida para el análisis más profundo.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="kpi-card p-6 rounded-lg text-center">
                        <h3 class="text-sm font-medium text-gray-500">Precio Actual</h3>
                        <p class="mt-1 text-3xl font-semibold text-gray-900">$66.46</p>
                        <p class="text-xs text-gray-500">Al 16 de agosto, 2025</p>
                    </div>
                    <div class="kpi-card p-6 rounded-lg text-center">
                        <h3 class="text-sm font-medium text-gray-500">Rango de 52 Semanas</h3>
                        <p class="mt-1 text-3xl font-semibold text-gray-900">$64.51 - $238.32</p>
                        <p class="text-xs text-red-500">Cerca del mínimo anual</p>
                    </div>
                    <div class="kpi-card p-6 rounded-lg text-center">
                        <h3 class="text-sm font-medium text-gray-500">Objetivo Analistas (1 año)</h3>
                        <p class="mt-1 text-3xl font-semibold text-green-600">$112.70</p>
                        <p class="text-xs text-gray-500">Potencial alcista del ~69%</p>
                    </div>
                    <div class="kpi-card p-6 rounded-lg text-center">
                        <h3 class="text-sm font-medium text-gray-500">Valor Razonable (DCF)</h3>
                        <p class="mt-1 text-3xl font-semibold text-green-600">$152.99</p>
                        <p class="text-xs text-gray-500">56.6% subvalorada</p>
                    </div>
                </div>
                <div class="mt-8 grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-2 kpi-card p-6 rounded-lg">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">La Tensión Central: Caída del Mercado vs. Potencial del Negocio</h3>
                        <div class="flex flex-col md:flex-row gap-4">
                            <div class="flex-1 p-4 bg-red-50 rounded-lg">
                                <h4 class="font-bold text-red-700">Sentimiento del Mercado (Corto Plazo)</h4>
                                <p class="text-2xl font-bold text-red-600 mt-2">-59.7%</p>
                                <p class="text-sm text-gray-600">Caída del precio en el último año, impulsada por temores macroeconómicos y una guía de crecimiento conservadora.</p>
                            </div>
                            <div class="flex-1 p-4 bg-green-50 rounded-lg">
                                <h4 class="font-bold text-green-700">Fundamentales del Negocio (Largo Plazo)</h4>
                                <p class="text-2xl font-bold text-green-600 mt-2">+25%</p>
                                <p class="text-sm text-gray-600">Cartera de proyectos en máximo histórico ($3.7B), reflejando una fuerte demanda subyacente por sus servicios de IA.</p>
                            </div>
                        </div>
                    </div>
                    <div class="kpi-card p-6 rounded-lg">
                        <h3 class="text-lg font-semibold text-gray-800 mb-2 text-center">Ingresos por Geografía (Q2 2025)</h3>
                        <div class="chart-container !h-56 md:!h-64">
                            <canvas id="geoRevenueChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <section class="mb-16">
                <h2 class="text-3xl font-bold text-gray-800 mb-2 text-center">Desempeño Financiero</h2>
                <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">Analiza la trayectoria financiera de Globant. El gráfico interactivo muestra la evolución de los ingresos y beneficios, permitiéndote identificar la tendencia de crecimiento histórico y la reciente desaceleración. Las métricas de salud financiera complementan esta visión.</p>
                <div class="bg-white p-6 rounded-lg border border-gray-200">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Evolución de Ingresos y Beneficios por Acción (Ajustado)</h3>
                    <div class="chart-container">
                        <canvas id="financialsChart"></canvas>
                    </div>
                    <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4 text-center">
                        <div class="p-4 bg-gray-50 rounded-lg">
                            <h4 class="text-sm font-medium text-gray-500">Ratio de Liquidez</h4>
                            <p class="text-2xl font-semibold text-gray-900">1.71</p>
                            <p class="text-xs text-gray-500">Posición de liquidez saludable a corto plazo.</p>
                        </div>
                        <div class="p-4 bg-gray-50 rounded-lg">
                            <h4 class="text-sm font-medium text-gray-500">Deuda / Capital</h4>
                            <p class="text-2xl font-semibold text-gray-900">0.25</p>
                            <p class="text-xs text-gray-500">Niveles de apalancamiento moderados y manejables.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="mb-16">
                <h2 class="text-3xl font-bold text-gray-800 mb-2 text-center">Análisis de Valoración</h2>
                <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">¿Está la acción cara o barata? Esta sección compara la valoración de Globant con la de sus competidores y la industria. Los gráficos te ayudarán a entender si el precio actual es justo en relación con sus ventas y beneficios, ofreciendo un contexto crucial para tu decisión.</p>
                <div class="bg-white p-6 rounded-lg border border-gray-200">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Comparación de Múltiplos de Valoración</h3>
                    <div class="chart-container">
                        <canvas id="valuationChart"></canvas>
                    </div>
                    <div class="mt-6 text-center p-4 bg-gray-50 rounded-lg">
                        <h4 class="text-sm font-medium text-gray-500">Ratio PEG (Precio/Ganancias vs. Crecimiento)</h4>
                        <p class="text-2xl font-semibold text-gray-900">0.9x</p>
                        <p class="text-xs text-gray-500">Un valor por debajo de 1.0 generalmente sugiere que la acción está razonablemente valorada en función de su crecimiento esperado.</p>
                    </div>
                </div>
            </section>

            <section class="mb-16">
                <h2 class="text-3xl font-bold text-gray-800 mb-2 text-center">Riesgos y Oportunidades</h2>
                <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">Toda inversión tiene dos caras. Aquí puedes explorar de forma interactiva los factores que podrían impulsar el crecimiento de Globant y los riesgos que podrían frenarlo. Haz clic en cada tarjeta para desplegar los detalles y obtener una visión equilibrada del panorama.</p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-2xl font-bold text-green-600 mb-4 flex items-center gap-2">
                            <span class="text-3xl">🚀</span> Oportunidades
                        </h3>
                        <div class="space-y-4">
                            <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                                <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                                    Crecimiento Secular en IA y Transformación Digital
                                    <span class="arrow text-xl transform transition-transform">▼</span>
                                </button>
                                <div class="details px-4 pb-4 text-gray-600">
                                    <p>Globant está perfectamente posicionada para capitalizar las tendencias a largo plazo e irreversibles de la adopción de la IA y la digitalización de las empresas, que son fundamentales para la economía moderna.</p>
                                </div>
                            </div>
                            <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                                <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                                    Fuerte Cartera de Proyectos
                                    <span class="arrow text-xl transform transition-transform">▼</span>
                                </button>
                                <div class="details px-4 pb-4 text-gray-600">
                                    <p>Una cartera de ventas en máximos históricos ($3.7B) sugiere un gran potencial de ingresos futuros una vez que las condiciones macroeconómicas mejoren y los proyectos se conviertan en ingresos.</p>
                                </div>
                            </div>
                            <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                                <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                                    Potencial de Subvaloración
                                    <span class="arrow text-xl transform transition-transform">▼</span>
                                </button>
                                <div class="details px-4 pb-4 text-gray-600">
                                    <p>La caída significativa del precio, junto con un análisis DCF que sugiere un valor de $152.99 y los altos objetivos de los analistas, indica que el mercado puede ser excesivamente pesimista, creando una oportunidad de valor.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-red-600 mb-4 flex items-center gap-2">
                            <span class="text-3xl">⚠️</span> Riesgos
                        </h3>
                        <div class="space-y-4">
                            <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                                <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                                    Vientos en Contra Macroeconómicos
                                    <span class="arrow text-xl transform transition-transform">▼</span>
                                </button>
                                <div class="details px-4 pb-4 text-gray-600">
                                    <p>Una desaceleración económica prolongada o una recesión, especialmente en EE. UU., podría seguir suprimiendo el gasto de los clientes y retrasar la conversión de la cartera de proyectos en ingresos reales.</p>
                                </div>
                            </div>
                            <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                                <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                                    Competencia Intensa
                                    <span class="arrow text-xl transform transition-transform">▼</span>
                                </button>
                                <div class="details px-4 pb-4 text-gray-600">
                                    <p>El mercado de servicios de IA y transformación digital es altamente competitivo, con gigantes como Accenture e IBM que tienen más recursos. Globant debe innovar constantemente para diferenciarse.</p>
                                </div>
                            </div>
                            <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                                <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                                    Riesgo de Ejecución
                                    <span class="arrow text-xl transform transition-transform">▼</span>
                                </button>
                                <div class="details px-4 pb-4 text-gray-600">
                                    <p>El éxito de la estrategia centrada en la IA y el plan de optimización de negocio depende de una ejecución eficaz, la retención de talento clave y la capacidad de convertir las inversiones en resultados financieros tangibles.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="text-center bg-white p-8 rounded-lg border border-gray-200">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Conclusión: ¿Es un Buen Momento para Invertir?</h2>
                <div class="max-w-4xl mx-auto text-left grid md:grid-cols-2 gap-8">
                    <div class="p-6 bg-green-50 rounded-lg border border-green-200">
                        <h3 class="font-bold text-lg text-green-800">Para el Inversor a Largo Plazo</h3>
                        <p class="mt-2 text-gray-700">El precio actual parece un punto de entrada atractivo. La empresa está alineada con tendencias de crecimiento potentes (IA, digitalización), tiene una demanda sólida y una dirección proactiva. La posible subvaloración refuerza el potencial a largo plazo.</p>
                    </div>
                    <div class="p-6 bg-yellow-50 rounded-lg border border-yellow-200">
                        <h3 class="font-bold text-lg text-yellow-800">Para el Inversor a Corto Plazo</h3>
                        <p class="mt-2 text-gray-700">La cautela es clave. La guía de crecimiento modesta, la incertidumbre económica y los riesgos de ejecución sugieren que la volatilidad podría continuar. Una recuperación rápida no está garantizada y el mercado muestra impaciencia.</p>
                    </div>
                </div>
                <p class="mt-8 text-gray-600 max-w-3xl mx-auto">En resumen, la caída del precio parece una corrección excesiva por los desafíos macroeconómicos, pasando por alto el sólido posicionamiento estratégico de Globant. La inversión depende de una mejora económica global y de la ejecución exitosa de su estrategia de IA.</p>
            </section>
            <!-- Content of Globant Investment Dashboard SPA ends here -->

        </section>

        <!-- WIKI Section -->
        <section id="wiki-section" class="hidden view-section">
            <div class="flex justify-start mb-6">
                <button class="back-to-home bg-gray-200 text-gray-700 px-4 py-2 rounded-md flex items-center space-x-2 hover:bg-gray-300 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H16a1  1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                    </svg>
                    <span>Volver al Inicio</span>
                </button>
            </div>
            <h2 class="text-3xl font-bold text-gray-800 mb-2 text-center">WIKI de Inversión</h2>
            <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">Explora definiciones claras de los términos y conceptos clave utilizados en el mundo de la inversión y el análisis financiero.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                    <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                        Ratios de Rentabilidad
                        <span class="arrow text-xl transform transition-transform">▼</span>
                    </button>
                    <div class="details px-4 pb-4 text-gray-600">
                        <p class="mb-2">Miden qué tan eficiente es la empresa generando ganancias con sus ventas, activos o capital.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Margen bruto:</h4>
                        <p class="text-sm">`Margen Bruto = (Ventas – Coste de Ventas) / Ventas`</p>
                        <p class="text-sm">Indica cuánto gana la empresa después de producir sus bienes/servicios. Ejemplo: si vende 100M y el coste de producción son 60M → margen bruto = 40%. Alta calidad si es estable o creciente.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Margen operativo (EBIT Margin):</h4>
                        <p class="text-sm">`EBIT Margin = Beneficio Operativo (EBIT) / Ventas`</p>
                        <p class="text-sm">Mide la rentabilidad de las operaciones principales, sin incluir impuestos ni deudas.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Margen neto:</h4>
                        <p class="text-sm">`Margen Neto = Beneficio Neto / Ventas`</p>
                        <p class="text-sm">Es lo que realmente queda en el bolsillo. Importante compararlo con competidores.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">ROE (Return on Equity):</h4>
                        <p class="text-sm">`ROE = Beneficio Neto / Patrimonio Neto`</p>
                        <p class="text-sm">Cuánto gana la empresa por cada € de capital de accionistas. Ejemplo: ROE del 15% = 0,15 € de beneficio por cada € invertido.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">ROA (Return on Assets):</h4>
                        <p class="text-sm">`ROA = Beneficio Neto / Activos Totales`</p>
                        <p class="text-sm">Cuánto rinde cada activo de la empresa.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">ROIC (Return on Invested Capital):</h4>
                        <p class="text-sm">`ROIC = (EBIT – Impuestos) / Capital Invertido`</p>
                        <p class="text-sm">Mide si la empresa crea valor respecto al coste de capital. Es uno de los más seguidos por inversores profesionales.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">ROCE (Return on Capital Employed):</h4>
                        <p class="text-sm">`ROCE = EBIT / Capital Empleado (Activos Totales – Pasivos Corrientes)`</p>
                        <p class="text-sm">Mide cuánta rentabilidad genera respecto al capital total que emplea. Bueno para comparar empresas con diferentes niveles de deuda.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Crecimiento de EPS (Earnings Per Share Growth):</h4>
                        <p class="text-sm">Tasa de crecimiento del beneficio por acción en varios años. Ejemplo: EPS 2020 = $2, EPS 2023 = $4 → crecimiento anual = 26%. Una empresa consistente en EPS creciente suele atraer inversores a largo plazo.</p>
                    </div>
                </div>
                <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                    <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                        Ratios de Liquidez
                        <span class="arrow text-xl transform transition-transform">▼</span>
                    </button>
                    <div class="details px-4 pb-4 text-gray-600">
                        <p class="mb-2">Miden la capacidad de la empresa para afrontar deudas a corto plazo.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Current Ratio (Razón corriente):</h4>
                        <p class="text-sm">`Current Ratio = Activos Corrientes / Pasivos Corrientes`</p>
                        <p class="text-sm">1 indica que puede pagar deudas de corto plazo sin problemas. Ejemplo: 1,5 = tiene 1,5 € en activos líquidos por cada € de deuda a corto plazo.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Quick Ratio (Test ácido):</h4>
                        <p class="text-sm">`Quick Ratio = (Activos Corrientes – Inventarios) / Pasivos Corrientes`</p>
                        <p class="text-sm">Más estricto porque descuenta inventarios (menos líquidos).</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Cash Ratio (Liquidez inmediata):</h4>
                        <p class="text-sm">`Cash Ratio = (Caja + Equivalentes) / Pasivos Corrientes`</p>
                        <p class="text-sm">Solo considera efectivo disponible. Muestra si podría pagar todas sus deudas de corto plazo inmediatamente.</p>
                    </div>
                </div>
                <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                    <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                        Ratios de Endeudamiento
                        <span class="arrow text-xl transform transition-transform">▼</span>
                    </button>
                    <div class="details px-4 pb-4 text-gray-600">
                        <p class="mb-2">Miden el riesgo financiero de la empresa y qué tan apalancada está.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Debt to Equity (Deuda/Patrimonio):</h4>
                        <p class="text-sm">`D/E = Deuda Total / Patrimonio Neto`</p>
                        <p class="text-sm">Si es muy alto, significa que la empresa depende mucho de deuda.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Debt to EBITDA:</h4>
                        <p class="text-sm">`Debt/EBITDA = Deuda Total / EBITDA`</p>
                        <p class="text-sm">Indica cuántos años de EBITDA necesita para pagar toda su deuda. Regla: <3 es sano, >5 es peligroso.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Cobertura de intereses (Interest Coverage):</h4>
                        <p class="text-sm">`EBIT / Gastos Financieros`</p>
                        <p class="text-sm">Cuántas veces puede pagar sus intereses con el beneficio operativo.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Net Debt / Equity (Deuda Neta sobre Patrimonio):</h4>
                        <p class="text-sm">`Deuda Neta = Deuda Total – Caja`</p>
                        <p class="text-sm">Si la empresa tiene mucha caja, la deuda real es menor.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Debt to Capital:</h4>
                        <p class="text-sm">`Deuda Total / (Deuda Total + Patrimonio Neto)`</p>
                        <p class="text-sm">Indica qué porcentaje del capital de la empresa está financiado con deuda.</p>
                    </div>
                </div>
                <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                    <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                        Ratios de Eficiencia
                        <span class="arrow text-xl transform transition-transform">▼</span>
                    </button>
                    <div class="details px-4 pb-4 text-gray-600">
                        <p class="mb-2">Miden qué tan bien usa sus activos para generar ingresos.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Rotación de activos:</h4>
                        <p class="text-sm">`Ventas / Activos Totales`</p>
                        <p class="text-sm">Qué tan productivos son los activos.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Rotación de inventario:</h4>
                        <p class="text-sm">`Coste de Ventas / Inventario Promedio`</p>
                        <p class="text-sm">Indica cuántas veces al año se vende y repone el inventario. Ejemplo: 6 = rota inventario cada 2 meses.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Rotación de cuentas por cobrar:</h4>
                        <p class="text-sm">`Ventas a crédito / Cuentas por cobrar promedio`</p>
                        <p class="text-sm">Indica cada cuánto cobra sus ventas. Un número bajo = tarda demasiado en cobrar → problemas de liquidez.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Rotación de cuentas por pagar:</h4>
                        <p class="text-sm">`Compras a crédito / Cuentas por pagar promedio`</p>
                        <p class="text-sm">Muestra cuánto tarda en pagar a proveedores. Demasiado bajo = paga muy rápido y pierde poder de negociación. Demasiado alto = riesgo de tensiones con proveedores.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Ciclo de conversión de efectivo (Cash Conversion Cycle, CCC):</h4>
                        <p class="text-sm">`CCC = Días de Inventario + Días de Cobro – Días de Pago`</p>
                        <p class="text-sm">Cuánto tiempo tarda en convertir su inversión en inventario a efectivo.</p>
                    </div>
                </div>
                <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                    <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                        Ratios de Valoración
                        <span class="arrow text-xl transform transition-transform">▼</span>
                    </button>
                    <div class="details px-4 pb-4 text-gray-600">
                        <p class="mb-2">Sirven para saber si una acción está cara o barata comparada con su beneficio, ventas o valor contable.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">PER (Price to Earnings Ratio):</h4>
                        <p class="text-sm">`PER = Precio de la Acción / Beneficio por Acción (EPS)`</p>
                        <p class="text-sm">PER alto = expectativas de crecimiento. PER bajo = puede estar infravalorada (o en problemas).</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">PEG (Price/Earnings to Growth):</h4>
                        <p class="text-sm">`PEG = PER / Crecimiento de Beneficios`</p>
                        <p class="text-sm">Ajusta el PER al crecimiento esperado. PEG ≈ 1 = precio justo. PEG > 2 = caro.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">P/BV (Price to Book Value):</h4>
                        <p class="text-sm">`P/BV = Precio de la Acción / Valor Contable por Acción`</p>
                        <p class="text-sm">Indica cuánto paga el mercado por cada € de patrimonio neto.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">EV/EBITDA (Enterprise Value / EBITDA):</h4>
                        <p class="text-sm">`EV/EBITDA = Valor Empresa / EBITDA`</p>
                        <p class="text-sm">Ratio muy usado para comparar empresas de un mismo sector. EV = Capitalización bursátil + Deuda – Caja. EV/EBITDA bajo = puede estar infravalorada.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Dividend Yield:</h4>
                        <p class="text-sm">`Dividend Yield = Dividendo por Acción / Precio de la Acción`</p>
                        <p class="text-sm">Mide la rentabilidad que recibís en dividendos.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">EV/EBIT (Enterprise Value / EBIT):</h4>
                        <p class="text-sm">Similar al EV/EBITDA pero más conservador porque incluye depreciaciones y amortizaciones.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">P/S (Price to Sales):</h4>
                        <p class="text-sm">`P/S = Precio de la acción / Ventas por acción`</p>
                        <p class="text-sm">Útil para empresas que todavía no son rentables. Ejemplo: startups tecnológicas.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">P/FCF (Price to Free Cash Flow):</h4>
                        <p class="text-sm">`P/FCF = Capitalización de mercado / Flujo de Caja Libre`</p>
                        <p class="text-sm">Más realista que el PER, porque mide el dinero efectivo que genera la empresa.</p>
                    </div>
                </div>
                <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                    <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                        Ratios de Crecimiento
                        <span class="arrow text-xl transform transition-transform">▼</span>
                    </button>
                    <div class="details px-4 pb-4 text-gray-600">
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">CAGR (Tasa de Crecimiento Anual Compuesta):</h4>
                        <p class="text-sm">`CAGR = (Valor Final / Valor Inicial)^(1/n) - 1` donde n = número de años.</p>
                        <p class="text-sm">Mide el crecimiento medio anual de ingresos, beneficios o dividendos.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Sustainable Growth Rate (SGR):</h4>
                        <p class="text-sm">`SGR = ROE × (1 - Payout Ratio)`</p>
                        <p class="text-sm">Tasa máxima a la que puede crecer una empresa sin emitir nueva deuda o acciones.</p>
                    </div>
                </div>
                <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                    <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                        Ratios por Sector
                        <span class="arrow text-xl transform transition-transform">▼</span>
                    </button>
                    <div class="details px-4 pb-4 text-gray-600">
                        <p class="mb-2">Algunos sectores requieren mirar indicadores específicos:</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Bancos / Financieras:</h4>
                        <p class="text-sm">**CET1 Ratio:** mide solvencia del banco.</p>
                        <p class="text-sm">**NIM (Net Interest Margin):** diferencia entre intereses cobrados y pagados.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Retail / Consumo:</h4>
                        <p class="text-sm">**Ventas mismas tiendas (Same Store Sales).**</p>
                        <p class="text-sm">**Inventario / Ventas.**</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Tecnología:</h4>
                        <p class="text-sm">**Crecimiento de usuarios activos.**</p>
                        <p class="text-sm">**R&D / Ventas** (inversión en innovación).</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Energía / Commodities:</h4>
                        <p class="text-sm">**Coste de extracción (Break-even).**</p>
                        <p class="text-sm">**Producción diaria** (barriles, toneladas).</p>
                    </div>
                </div>
                <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                    <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                        Señales de Alerta (Red Flags)
                        <span class="arrow text-xl transform transition-transform">▼</span>
                    </button>
                    <div class="details px-4 pb-4 text-gray-600">
                        <p class="mb-2">Más allá de ratios, hay alertas que saltan a la vista en estados financieros:</p>
                        <p class="text-sm">**Deuda creciente** sin aumento de ingresos.</p>
                        <p class="text-sm">**Margen neto decreciente** año tras año.</p>
                        <p class="text-sm">**Flujo de caja negativo crónico** (aunque los beneficios contables parezcan buenos).</p>
                        <p class="text-sm">Altas **recompras de acciones financiadas con deuda**.</p>
                        <p class="text-sm">**Cambios constantes en la dirección** / auditorías con salvedades.</p>
                    </div>
                </div>
                <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                    <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                        Resumen Práctico: “Radar de Inversión”
                        <span class="arrow text-xl transform transition-transform">▼</span>
                    </button>
                    <div class="details px-4 pb-4 text-gray-600">
                        <p class="mb-2">Cuando evalúes una empresa, podés seguir esta checklist:</p>
                        <p class="text-sm">✅ **Rentabilidad:** ROE > 10%, márgenes estables.</p>
                        <p class="text-sm">✅ **Solidez:** Deuda/EBITDA < 3, Current ratio > 1.</p>
                        <p class="text-sm">✅ **Valoración:** PER razonable respecto al sector, EV/EBITDA competitivo.</p>
                        <p class="text-sm">✅ **Crecimiento:** CAGR de ingresos y EPS positivo.</p>
                        <p class="text-sm">✅ **Caja:** Flujo de caja libre positivo y creciente.</p>
                        <p class="text-sm">✅ **Sector:** Entender qué ratios pesan más en ese sector.</p>
                    </div>
                </div>
                <!-- Old WIKI entries (grouped for organization) -->
                <div class="expandable-card bg-white border border-gray-200 rounded-lg">
                    <button class="w-full text-left p-4 font-semibold flex justify-between items-center">
                        Términos Anteriores: P/E, EPS, DCF, Moat, Margen de Seguridad
                        <span class="arrow text-xl transform transition-transform">▼</span>
                    </button>
                    <div class="details px-4 pb-4 text-gray-600">
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Ratio P/E (Precio/Ganancias):</h4>
                        <p class="text-sm">El Ratio Precio/Ganancias (Price-to-Earnings, P/E) es una métrica de valoración que compara el precio actual de la acción de una empresa con sus ganancias por acción (EPS). Indica cuántas veces están los inversores dispuestos a pagar por cada dólar de ganancias. Un P/E alto puede sugerir que la acción está sobrevalorada o que se esperan grandes crecimientos futuros, mientras que un P/E bajo podría indicar subvaloración o expectativas de bajo crecimiento.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">EPS (Ganancias por Acción):</h4>
                        <p class="text-sm">Las Ganancias por Acción (Earnings Per Share, EPS) es la porción de las ganancias de una empresa asignada a cada acción ordinaria en circulación. Es un indicador clave de la rentabilidad de una empresa y se calcula dividiendo las ganancias netas entre el número de acciones en circulación. Un EPS creciente es generalmente positivo para los inversores.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">DCF (Flujo de Caja Descontado):</h4>
                        <p class="text-sm">El Flujo de Caja Descontado (Discounted Cash Flow, DCF) es un método de valoración que se utiliza para estimar el valor de una inversión basándose en sus flujos de caja futuros esperados. Se descuentan esos flujos de caja futuros a su valor presente utilizando una tasa de descuento, para determinar el valor intrínseco de la empresa hoy. Es una herramienta poderosa para determinar si una inversión está subvalorada o sobrevalorada.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Foso Competitivo (Moat):</h4>
                        <p class="text-sm">Un "Foso Competitivo" (Moat) se refiere a las ventajas sostenibles que tiene una empresa sobre sus competidores, lo que le permite proteger sus ganancias a largo plazo. Estos fosos pueden incluir activos intangibles (marcas fuertes, patentes), costes de cambio altos para los clientes, ventajas de coste, economías de escala o efectos de red. Warren Buffett popularizó este concepto.</p>
                        <h4 class="font-semibold text-gray-700 mt-3 mb-1">Margen de Seguridad:</h4>
                        <p class="text-sm">El "Margen de Seguridad" es un principio de inversión que implica comprar acciones cuando su precio de mercado está significativamente por debajo de su valor intrínseco estimado. Benjamin Graham, mentor de Warren Buffett, popularizó este concepto. Actúa como un amortiguador contra errores de juicio o eventos económicos adversos, protegiendo al inversor de pérdidas significativas.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Principios Section - New section -->
        <section id="principios-section" class="hidden view-section">
            <div class="flex justify-start mb-6">
                <button class="back-to-home bg-gray-200 text-gray-700 px-4 py-2 rounded-md flex items-center space-x-2 hover:bg-gray-300 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H16a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                    </svg>
                    <span>Volver al Inicio</span>
                </button>
            </div>
            <h2 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight mb-8 text-center">Principios de Inversión</h2>
            <p class="mt-4 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto text-center mb-8">
                Descubre las filosofías atemporales que guían a los inversores más exitosos del mundo, como Warren Buffett, Benjamin Graham y Charlie Munger.
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <div class="main-card p-6 rounded-lg text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Inversión en Valor</h3>
                    <p class="text-gray-600">Comprar activos por menos de su valor intrínseco. Busca empresas sólidas con precios deprimidos por factores temporales.</p>
                </div>
                <div class="main-card p-6 rounded-lg text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Pensamiento a Largo Plazo</h3>
                    <p class="text-gray-600">Evitar las fluctuaciones del mercado a corto plazo y centrarse en el crecimiento compuesto a lo largo de décadas.</p>
                </div>
                <div class="main-card p-6 rounded-lg text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Círculo de Competencia</h3>
                    <p class="text-gray-600">Invertir solo en empresas y negocios que entiendes profundamente. No te aventures fuera de tu área de conocimiento.</p>
                </div>
                <div class="main-card p-6 rounded-lg text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Margen de Seguridad</h3>
                    <p class="text-gray-600">Comprar una acción a un precio significativamente inferior a su valor real para protegerte de errores de cálculo o eventos imprevistos.</p>
                </div>
                <div class="main-card p-6 rounded-lg text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Foso Económico (Moat)</h3>
                    <p class="text-gray-600">Identificar empresas con ventajas competitivas duraderas que protejan sus ganancias de la competencia.</p>
                </div>
                <div class="main-card p-6 rounded-lg text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Ser Contrario</h3>
                    <p class="text-gray-600">Estar dispuesto a ir en contra de la multitud. Comprar cuando otros tienen miedo y vender cuando son codiciosos.</p>
                </div>
            </div>
        </section>

        <!-- Crypto Section - New section for Bitcoin content -->
        <section id="crypto-section" class="hidden view-section">
            <div class="flex justify-start mb-6">
                <button class="back-to-home bg-gray-200 text-gray-700 px-4 py-2 rounded-md flex items-center space-x-2 hover:bg-gray-300 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H16a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                    </svg>
                    <span>Volver al Inicio</span>
                </button>
            </div>
            <h2 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight mb-8 text-center">Todo sobre Bitcoin</h2>
            <p class="mt-4 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto text-center mb-8">
                Descubre los fundamentos de la primera y más grande criptomoneda descentralizada.
                Bitcoin es una innovación monetaria y tecnológica que ha cambiado el panorama financiero mundial.
            </p>

            <div class="flex justify-center mb-12">
                <button id="viewBitcoinWhitePaper" class="bitcoin-whitepaper-button">
                    <i class="fas fa-crown mr-2"></i>
                    Ver White Paper de Bitcoin Explicado
                </button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="main-card p-6 rounded-lg text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">¿Qué es Bitcoin?</h3>
                    <p class="text-gray-600">Una moneda digital descentralizada, sin banco central ni administrador único, que se puede enviar de usuario a usuario en la red bitcoin peer-to-peer sin la necesidad de intermediarios.</p>
                </div>
                <div class="main-card p-6 rounded-lg text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Blockchain</h3>
                    <p class="text-gray-600">La tecnología subyacente de Bitcoin, un libro mayor distribuido y público, que registra todas las transacciones en "bloques" que se encadenan criptográficamente.</p>
                </div>
                <div class="main-card p-6 rounded-lg text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Minería de Bitcoin</h3>
                    <p class="text-gray-600">El proceso de verificar y añadir nuevas transacciones al libro mayor de la blockchain. Los mineros compiten para resolver complejos problemas matemáticos, y el primero en hacerlo recibe una recompensa en Bitcoin.</p>
                </div>
                <div class="main-card p-6 rounded-lg text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Descentralización</h3>
                    <p class="text-gray-600">Bitcoin opera en una red distribuida globalmente, lo que significa que ninguna entidad única tiene control sobre él. Esto lo hace resistente a la censura y la manipulación.</p>
                </div>
                <div class="main-card p-6 rounded-lg text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Escasez</h3>
                    <p class="text-gray-600">La oferta total de Bitcoin está limitada a 21 millones de monedas, lo que lo convierte en un activo deflacionario, a diferencia de las monedas fiduciarias que pueden imprimirse indefinidamente.</p>
                </div>
                <div class="main-card p-6 rounded-lg text-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Casos de Uso</h3>
                    <p class="text-gray-600">Además de ser una forma de dinero digital, Bitcoin es considerado una "reserva de valor" (oro digital) y una herramienta para transferencias internacionales de bajo costo.</p>
                </div>
            </div>
        </section>


        <!-- Bitcoin White Paper Explanation Section -->
        <section id="bitcoin-whitepaper-section" class="hidden view-section">
            <div class="flex justify-start mb-6">
                <button id="backToBitcoinSection" class="bg-gray-200 text-gray-700 px-4 py-2 rounded-md flex items-center space-x-2 hover:bg-gray-300 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H16a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                    </svg>
                    <span>Volver a la Sección Bitcoin</span>
                </button>
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight mb-8 text-center">Explicación Detallada del White Paper de Bitcoin: Un Sistema de Efectivo Electrónico Peer-to-Peer</h1>
            <p class="mt-4 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto text-center mb-8">El White Paper de Bitcoin, publicado por Satoshi Nakamoto en 2008, es el documento fundacional que describe cómo funciona Bitcoin. Es un texto denso y técnico, pero sus conceptos son esenciales para entender la primera criptomoneda del mundo. Aquí te ofrezco una explicación completa e intuitiva, sección por sección.</p>
            <hr class="my-8 border-gray-300">

            <!-- Index for Bitcoin White Paper sections -->
            <div id="whitepaper-index" class="whitepaper-index max-w-4xl mx-auto mb-8">
                <h3>Índice del White Paper de Bitcoin</h3>
                <ul>
                    <li><a href="#abstract-section">Abstract</a></li>
                    <li><a href="#intro-section">1. Introducción</a></li>
                    <li><a href="#transactions-section">2. Transacciones</a></li>
                    <li><a href="#timestamp-server-section">3. Servidor de Sello de Tiempo</a></li>
                    <li><a href="#proof-of-work-section">4. Prueba de Trabajo</a></li>
                    <li><a href="#network-section">5. Red</a></li>
                    <li><a href="#incentive-section">6. Incentivo</a></li>
                    <li><a href="#disk-space-section">7. Reclamación de Espacio en Disco</a></li>
                    <li><a href="#simplified-payment-verification-section">8. Verificación Simplificada de Pagos</a></li>
                    <li><a href="#combining-splitting-value-section">9. Combinando y Dividiendo el Valor</a></li>
                    <li><a href="#privacy-section">10. Privacidad</a></li>
                    <li><a href="#calculations-section">11. Cálculos</a></li>
                    <li><a href="#conclusion-whitepaper-section">12. Conclusión</a></li>
                </ul>
            </div>


            <div class="max-w-4xl mx-auto space-y-8">
                <section id="abstract-section" class="p-6 bg-white rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">Abstract</h2>
                    <p class="text-gray-700 mb-4">El <strong>resumen</strong> establece la problemática central: los pagos online tradicionales dependen de <strong>instituciones financieras como terceros de confianza</strong>. Esto introduce debilidades como la <strong>imposibilidad de transacciones verdaderamente no reversibles</strong>, lo que aumenta costos y limita el tamaño de las transacciones (haciendo inviables los micropagos casuales). También exige que los comerciantes desconfíen de los clientes debido al riesgo de fraude.</p>
                    <p class="text-gray-700">La solución propuesta es un sistema de efectivo electrónico <strong>"puramente peer-to-peer"</strong> basado en <strong>prueba criptográfica</strong>, no en la confianza. Para resolver el problema del <strong>"doble gasto"</strong> (usar la misma moneda dos veces), se usa una red peer-to-peer que "timestampa" (pone sello de tiempo) las transacciones. Esto se logra mediante una <strong>cadena de pruebas de trabajo (Proof-of-Work) basadas en hashes</strong>, creando un registro inalterable sin rehacer todo el trabajo. La cadena más larga no solo prueba la secuencia de eventos, sino que también demuestra que proviene de la mayor cantidad de poder de procesamiento (CPU). Mientras la mayoría del poder de CPU esté en manos de nodos honestos, estos generarán la cadena más larga y superarán a los atacantes. La red es simple y descentralizada: los mensajes se transmiten "a mejor esfuerzo" y los nodos pueden unirse o salir cuando quieran, aceptando la cadena más larga como la verdad.</p>
                </section>
                <hr class="my-8 border-gray-300">

                <section id="intro-section" class="p-6 bg-white rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">1. Introducción</h2>
                    <p class="text-gray-700 mb-4">La introducción profundiza en la motivación detrás de Bitcoin. Explica cómo el comercio en internet se ha vuelto dependiente de terceros de confianza (bancos), lo que, a pesar de funcionar, tiene fallas inherentes:</p>
                    <ul class="list-disc list-inside text-gray-700 space-y-2">
                        <li><strong>Transacciones no irreversibles:</strong> Los bancos pueden mediar disputas y revertir transacciones, lo que no permite un pago final.</li>
                        <li><strong>Costos de mediación:</strong> La necesidad de mediación aumenta los costos de transacción, haciendo que los pequeños pagos (como para un café) no sean prácticos.</li>
                        <li><strong>Pérdida de pagos no reversibles:</strong> Algunos servicios no son reversibles (ej. streaming de música), pero el pago sí podría serlo, creando un desequilibrio.</li>
                        <li><strong>Necesidad de confianza:</strong> La posibilidad de reversión obliga a los comerciantes a desconfiar de los clientes y pedir más información de la necesaria.</li>
                    </ul>
                    <p class="text-gray-700 mt-4">Lo que se necesita es un <strong>sistema de pago electrónico basado en prueba criptográfica, no en la confianza</strong>. Esto permitiría transacciones directas entre dos partes. Para lograr esto sin un tercero, se propone un servidor de sellos de tiempo distribuido que genera pruebas computacionales del orden cronológico de las transacciones. El sistema es seguro siempre que los nodos honestos controlen más poder de CPU que cualquier grupo de atacantes.</p>
                </section>
                <hr class="my-8 border-gray-300">

                <section id="transactions-section" class="p-6 bg-white rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">2. Transacciones</h2>
                    <p class="text-gray-700 mb-4">Aquí se define la <strong>"moneda electrónica"</strong> como una <strong>cadena de firmas digitales</strong>.</p>
                    <ul class="list-disc list-inside text-gray-700 space-y-2">
                        <li>Cada dueño transfiere la moneda al siguiente <strong>firmando digitalmente un hash</strong> de la transacción anterior y la clave pública del nuevo dueño.</li>
                        <li>El nuevo dueño (beneficiario) puede <strong>verificar las firmas</strong> para confirmar la cadena de propiedad.</li>
                    </ul>
                    <p class="text-gray-700 mt-4">El <strong>problema fundamental</strong> que se aborda es el <strong>doble gasto</strong>: cómo el beneficiario puede saber que el dueño anterior no gastó la misma moneda en otro lugar. La solución común es un banco central ("mint") que verifica cada transacción para el doble gasto. Sin embargo, esto hace que el sistema dependa de una sola entidad, perdiendo la esencia de la "libertad" del efectivo físico.</p>
                    <p class="text-gray-700 mt-4">Para evitar un tercero, las transacciones deben ser <strong>anunciadas públicamente</strong>. Se necesita un sistema donde los participantes acuerden una única historia del orden de las transacciones. El beneficiario necesita una prueba de que, en el momento de la transacción, la mayoría de los nodos acordaron que fue la primera transacción de esa moneda.</p>
                </section>
                <hr class="my-8 border-gray-300">

                <section id="timestamp-server-section" class="p-6 bg-white rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">3. Servidor de Sello de Tiempo (Timestamp Server)</h2>
                    <p class="text-gray-700 mb-4">La solución propuesta comienza con un <strong>servidor de sello de tiempo</strong>.</p>
                    <ul class="list-disc list-inside text-gray-700 space-y-2">
                        <li>Un servidor de sello de tiempo funciona tomando el <strong>hash de un bloque de ítems</strong> (transacciones) y publicando ampliamente ese hash (históricamente, en periódicos o publicaciones Usenet).</li>
                        <li>El sello de tiempo prueba que <strong>los datos deben haber existido</strong> en ese momento para poder ser incluidos en el hash.</li>
                        <li>Cada nuevo sello de tiempo incluye el <strong>hash del sello de tiempo anterior</strong>, formando una <strong>cadena</strong>. Cada nuevo sello de tiempo refuerza la validez de los anteriores.</li>
                    </ul>
                    <p class="text-gray-700 mt-4">Esto sienta las bases para la <strong>blockchain</strong>: una cadena de bloques, donde cada bloque está vinculado criptográficamente al anterior a través de su hash, creando una secuencia inmutable en el tiempo.</p>
                </section>
                <hr class="my-8 border-gray-300">

                <section id="proof-of-work-section" class="p-6 bg-white rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">4. Prueba de Trabajo (Proof-of-Work)</h2>
                    <p class="text-gray-700 mb-4">Para implementar un servidor de sellos de tiempo <strong>distribuido y peer-to-peer</strong> (sin una autoridad central), se introduce un sistema de <strong>prueba de trabajo (Proof-of-Work - PoW)</strong>, similar a Hashcash de Adam Back.</p>
                    <ul class="list-disc list-inside text-gray-700 space-y-2">
                        <li>La PoW implica buscar un valor (un "nonce") que, cuando se aplica un hash (como SHA-256) al bloque, el hash resultante comience con un número determinado de ceros.</li>
                        <li>El <strong>trabajo requerido es exponencial</strong> con el número de ceros, pero la <strong>verificación es trivial</strong> (solo requiere ejecutar un hash).</li>
                        <li>Una vez que se ha gastado el esfuerzo de CPU para encontrar el PoW para un bloque, <strong>ese bloque no puede ser cambiado</strong> sin rehacer ese trabajo. Si se cambia un bloque anterior, habría que rehacer el PoW de todos los bloques subsiguientes en la cadena.</li>
                    </ul>
                    <p class="text-gray-700 mt-4">La PoW también resuelve el problema de la <strong>representación en la toma de decisiones por mayoría</strong>. En lugar de "una IP, un voto" (que es vulnerable a ataques Sybil), la PoW es <strong>"una CPU, un voto"</strong>.</p>
                    <ul class="list-disc list-inside text-gray-700 space-y-2">
                        <li>La decisión mayoritaria está representada por la <strong>cadena más larga</strong>, que es la que tiene la mayor cantidad de esfuerzo de PoW invertido.</li>
                        <li>Si los nodos honestos controlan la mayoría del poder de CPU, su cadena crecerá más rápido y superará cualquier cadena competidora.</li>
                        <li>Un atacante tendría que rehacer el PoW del bloque que quiere modificar y de todos los bloques posteriores, para luego superar el trabajo de los nodos honestos. La probabilidad de que un atacante más lento lo logre disminuye exponencialmente a medida que se añaden más bloques.</li>
                        <li>La <strong>dificultad de la PoW se ajusta automáticamente</strong> (mediante un promedio móvil) para compensar los cambios en la velocidad del hardware y el interés en operar nodos, apuntando a un número promedio de bloques por hora (aproximadamente 10 minutos en Bitcoin).</li>
                    </ul>
                </section>
                <hr class="my-8 border-gray-300">

                <section id="network-section" class="p-6 bg-white rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">5. Red (Network)</h2>
                    <p class="text-gray-700 mb-4">Se describen los pasos para que la red funcione:</p>
                    <ol class="list-decimal list-inside text-gray-700 space-y-2">
                        <li>Las <strong>nuevas transacciones se difunden</strong> a todos los nodos.</li>
                        <li>Cada nodo **recopila nuevas transacciones** en un bloque.</li>
                        <li>Cada nodo **trabaja en encontrar un PoW** difícil para su bloque.</li>
                        <li>Cuando un nodo encuentra un PoW, **difunde el bloque** a todos los nodos.</li>
                        <li>Los nodos **aceptan el bloque solo si todas las transacciones son válidas** y no han sido ya gastadas.</li>
                        <li>Los nodos expresan su aceptación trabajando en la **creación del siguiente bloque**, usando el hash del bloque aceptado como el hash anterior.</li>
                    </ol>
                    <p class="text-gray-700 mt-4">Los nodos siempre consideran la <strong>cadena más larga como la correcta</strong> y continúan trabajando en extenderla. Si dos nodos difunden diferentes versiones del siguiente bloque simultáneamente, algunos nodos pueden recibir una u otra primero. Trabajarán en la primera que recibieron, pero guardarán la otra rama en caso de que se haga más larga. El desempate ocurre cuando se encuentra el siguiente PoW y una rama se vuelve más larga; los nodos que estaban trabajando en la rama más corta se cambiarán a la más larga.</p>
                    <p class="text-gray-700 mt-2">La difusión de transacciones y bloques es **tolerante a mensajes perdidos**. Si un nodo no recibe un bloque, lo solicitará cuando reciba el siguiente bloque y se dé cuenta de que le falta uno.</p>
                </section>
                <hr class="my-8 border-gray-300">

                <section id="incentive-section" class="p-6 bg-white rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">6. Incentivo</h2>
                    <p class="text-gray-700 mb-4">Se introduce el sistema de <strong>recompensa por bloque</strong> (lo que hoy conocemos como <strong>minería</strong>).</p>
                    <ul class="list-disc list-inside text-gray-700 space-y-2">
                        <li>La primera transacción en un bloque es una <strong>transacción especial</strong> que crea nuevas monedas y las asigna al creador del bloque (el **minero**).</li>
                        <li>Esto incentiva a los nodos a **apoyar la red** y proporciona una forma de **distribuir inicialmente las monedas** en circulación, ya que no hay una autoridad central que las emita. La adición constante de nuevas monedas es análoga a la extracción de oro.</li>
                        <li>El incentivo también puede ser financiado con **tasas de transacción**. Si el valor de salida de una transacción es menor que su valor de entrada, la diferencia es una tarifa que se añade al incentivo del bloque.</li>
                        <li>Una vez que un número predeterminado de monedas ha entrado en circulación (los 21 millones de Bitcoin), **el incentivo puede pasar completamente a las tasas de transacción**, haciendo el sistema "completamente libre de inflación".</li>
                    </ul>
                    <p class="text-gray-700 mt-4">El incentivo también fomenta la **honestidad**. Si un atacante codicioso acumulara más poder de CPU que los nodos honestos, tendría que elegir entre usarlo para defraudar (doble gasto) o para generar nuevas monedas. Se considera más rentable para él jugar según las reglas, ya que así gana más monedas nuevas que todos los demás combinados, que socavar el sistema y la validez de su propia riqueza.</p>
                </section>
                <hr class="my-8 border-gray-300">

                <section id="disk-space-section" class="p-6 bg-white rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">7. Reclamación de Espacio en Disco (Reclaiming Disk Space)</h2>
                    <p class="text-gray-700 mb-4">Para ahorrar espacio en disco, las transacciones gastadas (una vez que la transacción más reciente de una moneda está "enterrada" bajo suficientes bloques) pueden ser descartadas.</p>
                    <ul class="list-disc list-inside text-gray-700 space-y-2">
                        <li>Para facilitar esto sin romper el hash del bloque, las transacciones se **hashan en un Árbol de Merkle** (Merkle Tree). Solo la raíz de este árbol se incluye en el hash del bloque.</li>
                        <li>Los bloques antiguos pueden compactarse "recortando" las ramas del árbol de Merkle. Los hashes intermedios no necesitan ser almacenados.</li>
                    </ul>
                    <p class="text-gray-700 mt-4">Esto significa que no necesitas almacenar el historial completo de cada transacción individual para verificar que es válida, solo la raíz de Merkle del bloque y la rama específica que prueba que tu transacción estaba en ese bloque. El White Paper calcula que un encabezado de bloque (sin transacciones) sería de unos 80 bytes, y prevé que el almacenamiento no sería un problema incluso si los encabezados deben mantenerse en memoria, considerando la ley de Moore.</p>
                </section>
                <hr class="my-8 border-gray-300">

                <section id="simplified-payment-verification-section" class="p-6 bg-white rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">8. Verificación Simplificada de Pagos (Simplified Payment Verification - SPV)</h2>
                    <p class="text-gray-700 mb-4">Es posible verificar pagos sin ejecutar un nodo de red completo.</p>
                    <ul class="list-disc list-inside text-gray-700 space-y-2">
                        <li>Un usuario solo necesita mantener una **copia de los encabezados de los bloques de la cadena más larga** de PoW. Puede obtenerlos consultando los nodos de la red hasta estar convencido de tener la cadena más larga.</li>
                        <li>También necesita obtener la **rama de Merkle que vincula su transacción** al bloque en el que está sellada.</li>
                        <li>No puede verificar la transacción por sí mismo, pero al vincularla a un lugar en la cadena, puede ver que un nodo de la red la aceptó, y los bloques añadidos posteriormente confirman aún más que la red la aceptó.</li>
                    </ul>
                    <p class="text-gray-700 mt-4">Esta verificación es fiable siempre que los nodos honestos controlen la red. Sin embargo, es más vulnerable si la red es dominada por un atacante, ya que el método simplificado podría ser engañado mientras el atacante mantenga el control. Una estrategia de protección sería aceptar alertas de nodos de red cuando detecten un bloque inválido, lo que incitaría al software del usuario a descargar el bloque completo y las transacciones alertadas para confirmar la inconsistencia. Las empresas que reciben pagos frecuentes probablemente querrán ejecutar sus propios nodos para una seguridad más independiente y una verificación más rápida.</p>
                </section>
                <hr class="my-8 border-gray-300">

                <section id="combining-splitting-value-section" class="p-6 bg-white rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">9. Combinando y Dividiendo el Valor (Combining and Splitting Value)</h2>
                    <p class="text-gray-700 mb-4">Para que el valor pueda ser dividido y combinado (en lugar de tener una transacción separada para cada "centavo"), las transacciones contienen **múltiples entradas y salidas**.</p>
                    <ul class="list-disc list-inside text-gray-700 space-y-2">
                        <li>Normalmente, habrá una **sola entrada de una transacción anterior más grande** o **múltiples entradas que combinan cantidades más pequeñas**.</li>
                        <li>Habrá **a lo sumo dos salidas**: una para el pago en sí y otra para devolver el **cambio** al remitente, si lo hubiera.</li>
                    </ul>
                    <p class="text-gray-700 mt-4">El White Paper señala que la ramificación de transacciones (donde una transacción depende de varias, y esas a su vez de muchas más) no es un problema, ya que nunca es necesario extraer una copia completa e independiente del historial de una transacción.</p>
                </section>
                <hr class="my-8 border-gray-300">

                <section id="privacy-section" class="p-6 bg-white rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">10. Privacidad</h2>
                    <p class="text-gray-700 mb-4">El modelo bancario tradicional logra la privacidad limitando el acceso a la información a las partes involucradas y al tercero de confianza. Dado que en Bitcoin todas las transacciones deben ser anunciadas públicamente, se mantiene la privacidad de otra manera: **manteniendo las claves públicas anónimas**.</p>
                    <ul class="list-disc list-inside text-gray-700 space-y-2">
                        <li>El público puede ver que alguien está enviando una cantidad a otra persona, pero **sin información que vincule la transacción a ninguna identidad**.</li>
                        <li>Esto es similar a la información que liberan las bolsas de valores, donde el tiempo y el tamaño de las operaciones individuales son públicos, pero no quiénes fueron las partes.</li>
                    </ul>
                    <p class="text-gray-700 mt-4">Como una "barrera de seguridad" adicional, se debe usar un **nuevo par de claves para cada transacción** para evitar que se vinculen a un propietario común. Sin embargo, algunas vinculaciones son inevitables con las transacciones de múltiples entradas, que necesariamente revelan que sus entradas pertenecían al mismo propietario. El riesgo es que si se revela la identidad del propietario de una clave, esa vinculación podría revelar otras transacciones que le pertenecían.</p>
                </section>
                <hr class="my-8 border-gray-300">

                <section id="calculations-section" class="p-6 bg-white rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">11. Cálculos (Calculations)</h2>
                    <p class="text-gray-700 mb-4">Esta sección es altamente técnica y se enfoca en la **probabilidad de que un atacante pueda generar una cadena alternativa más rápido que la cadena honesta**.</p>
                    <ul class="list-disc list-inside text-gray-700 space-y-2">
                        <li>Se considera un escenario en el que un atacante intenta gastar dos veces una moneda ("doble gasto"). El sistema no permite crear dinero de la nada ni tomar dinero que no le pertenece. Un atacante solo puede intentar revertir una de sus propias transacciones.</li>
                        <li>La carrera entre la cadena honesta y la cadena del atacante se caracteriza como un **"Paseo Aleatorio Binomial"** (Binomial Random Walk). El éxito es que la cadena honesta se extienda un bloque (+1), el fracaso es que la cadena del atacante se extienda un bloque (-1).</li>
                        <li>La probabilidad de que un atacante "alcance" una cadena con un déficit de <code>z</code> bloques se compara con el **"Problema de la Ruina del Jugador"** (Gambler's Ruin problem).</li>
                        <li>Se presenta una fórmula: <code>$q_z = (q/p)^z$</code> si <code>$p > q$</code>, donde <code>p</code> es la probabilidad de que un nodo honesto encuentre el siguiente bloque, <code>q</code> es la probabilidad de que el atacante lo encuentre, y <code>z</code> es el número de bloques que el atacante está detrás.</li>
                        <li>Esta fórmula muestra que la probabilidad de que un atacante alcance la cadena honesta **disminuye exponencialmente** a medida que aumenta el número de bloques que la cadena honesta ha "adelantado".</li>
                        <li>Se proporcionan tablas con resultados de esta probabilidad para diferentes valores de <code>q</code> y <code>z</code>, demostrando cuán rápidamente la probabilidad se vuelve insignificante.</li>
                        <li>La sección concluye que el receptor de una transacción necesita esperar hasta que la transacción haya sido incluida en un bloque y una cierta cantidad de bloques (<code>z</code>) se hayan añadido después para estar suficientemente seguro de que el remitente no puede revertirla.</li>
                    </ul>
                    <p class="text-gray-700 mt-4">El punto clave aquí es que, incluso con una ventaja computacional, la dificultad para revertir transacciones históricas aumenta exponencialmente con el número de confirmaciones (bloques posteriores).</p>
                </section>
                <hr class="my-8 border-gray-300">

                <section id="conclusion-whitepaper-section" class="p-6 bg-white rounded-lg shadow-sm border border-gray-200">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">12. Conclusión</h2>
                    <p class="text-gray-700 mb-4">La conclusión recapitula los puntos clave del sistema propuesto para **transacciones electrónicas sin depender de la confianza**:</p>
                    <ul class="list-disc list-inside text-gray-700 space-y-2">
                        <li>Se parte del marco de monedas hechas de firmas digitales, que controlan fuertemente la propiedad, pero son incompletas sin una forma de prevenir el doble gasto.</li>
                        <li>La solución propuesta es una **red peer-to-peer que utiliza prueba de trabajo para registrar un historial público de transacciones** que se vuelve computacionalmente inviable de cambiar para un atacante, siempre que los nodos honestos controlen la mayoría del poder de CPU.</li>
                        <li>La red es **robusta debido a su simplicidad no estructurada**. Los nodos trabajan simultáneamente con poca coordinación.</li>
                        <li>**No necesitan ser identificados**, ya que los mensajes no se dirigen a un lugar particular y solo necesitan ser entregados "a mejor esfuerzo".</li>
                        <li>Los nodos pueden **salir y volver a unirse a la red a voluntad**, aceptando la cadena de prueba de trabajo como prueba de lo que ocurrió mientras estaban ausentes.</li>
                        <li>**Votan con su poder de CPU**, expresando su aceptación de bloques válidos al trabajar para extenderlos y rechazando bloques inválidos al negarse a trabajar en ellos.</li>
                        <li>Cualquier regla e incentivo necesario puede ser impuesto con este mecanismo de consenso.</li>
                    </ul>
                    <p class="text-gray-700 mt-4">En esencia, el White Paper de Bitcoin presenta una visión revolucionaria de dinero digital que no requiere un intermediario, utilizando la criptografía y la teoría de juegos para garantizar la seguridad y la descententralización.</p>
                </section>
            </div>
        </section>

        <!-- Herramientas Section - New section with calculators -->
        <section id="herramientas-section" class="hidden view-section">
            <div class="flex justify-start mb-6">
                <button class="back-to-home bg-gray-200 text-gray-700 px-4 py-2 rounded-md flex items-center space-x-2 hover:bg-gray-300 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H16a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                    </svg>
                    <span>Volver al Inicio</span>
                </button>
            </div>
            <h2 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight mb-8 text-center">Herramientas de Inversión</h2>
            <p class="mt-4 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto text-center mb-8">
                Calculadoras útiles para ayudarte a planificar y entender el potencial de tus inversiones.
            </p>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-5xl mx-auto">
                <!-- Bitcoin DCA Calculator -->
                <div class="main-card p-6 rounded-lg">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4 text-center">Calculadora de DCA en Bitcoin</h3>
                    <p class="text-gray-600 mb-6 text-center">Simula el efecto del Promedio de Costo en Dólares (DCA) al invertir en Bitcoin.</p>
                    <div class="space-y-4">
                        <div>
                            <label for="btcMonthlyAmount" class="block text-sm font-medium text-gray-700">Cantidad Mensual a Invertir ($):</label>
                            <input type="number" id="btcMonthlyAmount" value="100" min="1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 p-2">
                        </div>
                        <div>
                            <label for="btcStartYear" class="block text-sm font-medium text-gray-700">Año de Inicio de Inversión:</label>
                            <input type="number" id="btcStartYear" value="2017" min="2010" max="2025" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 p-2">
                        </div>
                        <button id="calculateBtcDCA" class="w-full bg-yellow-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-yellow-600 transition-colors shadow-md">Calcular DCA</button>
                        <div class="mt-4 text-center">
                            <p class="text-lg font-medium text-gray-700">Valor Final Estimado:</p>
                            <span id="btcResult" class="text-3xl font-bold text-yellow-700">$0.00</span>
                        </div>
                        <div class="chart-container">
                            <canvas id="btcChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Compound Interest Calculator -->
                <div class="main-card p-6 rounded-lg">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4 text-center">Calculadora de Interés Compuesto</h3>
                    <p class="text-gray-600 mb-6 text-center">Visualiza el poder del interés compuesto a lo largo del tiempo.</p>
                    <div class="space-y-4">
                        <div>
                            <label for="initialAmount" class="block text-sm font-medium text-gray-700">Cantidad Inicial ($):</label>
                            <input type="number" id="initialAmount" value="1000" min="0" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 p-2">
                        </div>
                        <div>
                            <label for="monthlyDeposit" class="block text-sm font-medium text-gray-700">Depósito Mensual Adicional ($):</label>
                            <input type="number" id="monthlyDeposit" value="50" min="0" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 p-2">
                        </div>
                        <div>
                            <label for="annualInterestRate" class="block text-sm font-medium text-gray-700">Tasa de Interés Anual (%):</label>
                            <input type="number" id="annualInterestRate" value="7" min="0" max="100" step="0.1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 p-2">
                        </div>
                        <div>
                            <label for="investmentYears" class="block text-sm font-medium text-gray-700">Años de Inversión:</label>
                            <input type="number" id="investmentYears" value="10" min="1" max="50" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 p-2">
                        </div>
                        <button id="calculateCompoundInterest" class="w-full bg-teal-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-teal-600 transition-colors shadow-md">Calcular Interés Compuesto</button>
                        <div class="mt-4 text-center">
                            <p class="text-lg font-medium text-gray-700">Valor Final Estimado:</p>
                            <span id="compoundResult" class="text-3xl font-bold text-teal-700">$0.00</span>
                        </div>
                        <div class="chart-container">
                            <canvas id="compoundChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white mt-16">
        <div class="container mx-auto px-8 py-4 text-center text-sm">
            <p>&copy; 2025 Italosearch. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get all view sections
            const homeSection = document.getElementById('italosearch-home');
            const investigacionesSection = document.getElementById('investigaciones-section');
            const globantAnalysisView = document.getElementById('globant-analysis-view');
            const wikiSection = document.getElementById('wiki-section');
            const principiosSection = document.getElementById('principios-section');
            const cryptoSection = document.getElementById('crypto-section'); 
            const herramientasSection = document.getElementById('herramientas-section');
            const bitcoinWhitePaperSection = document.getElementById('bitcoin-whitepaper-section'); 

            // Navigation buttons
            const homeButton = document.getElementById('homeButton');
            const homeNavLink = document.getElementById('homeNavLink');
            const investigacionesNavLink = document.getElementById('investigacionesNavLink');
            const wikiNavLink = document.getElementById('wikiNavLink');
            const principiosNavLink = document.getElementById('principiosNavLink');
            const cryptoNavLink = document.getElementById('cryptoNavLink'); 
            const herramientasNavLink = document.getElementById('herramientasNavLink');

            // Quick links from home page
            const quickLinkInvestigaciones = document.getElementById('quick-link-investigaciones');
            const quickLinkWiki = document.getElementById('quick-link-wiki');
            const quickLinkPrincipios = document.getElementById('quick-link-principios');
            const quickLinkCrypto = document.getElementById('quick-link-crypto');
            const quickLinkHerramientas = document.getElementById('quick-link-herramientas');

            // Card specific buttons
            const globantCard = document.getElementById('globant-card');
            const viewBitcoinWhitePaperButton = document.getElementById('viewBitcoinWhitePaper'); 

            // Back to home buttons (common for all sub-sections)
            const backToHomeBtns = document.querySelectorAll('.back-to-home');
            const backToInvestigacionesBtn = document.querySelector('.back-to-investigaciones');
            const backToBitcoinSectionBtn = document.getElementById('backToBitcoinSection'); 

            const rainLayer = document.getElementById('rain-layer');

            // Function to show a specific section, hide others, change background and manage rain
            function showSection(sectionToShow) {
                const allSections = [homeSection, investigacionesSection, globantAnalysisView, wikiSection, principiosSection, cryptoSection, herramientasSection, bitcoinWhitePaperSection];
                allSections.forEach(section => {
                    if (section) { 
                        section.classList.add('hidden');
                    }
                });
                if (sectionToShow) { 
                    sectionToShow.classList.remove('hidden');
                }
                window.scrollTo({ top: 0, behavior: 'smooth' }); 

                document.body.classList.remove('bg-custom-blue-light', 'bg-custom-orange-light');
                
                rainLayer.innerHTML = '';

                if (sectionToShow && sectionToShow.id === 'crypto-section') {
                    document.body.classList.add('bg-custom-orange-light');
                    createRainEffect('🪙', 25, '20s', '4s'); 
                } else {
                    document.body.classList.add('bg-custom-blue-light');
                }

                if (sectionToShow && sectionToShow.id === 'globant-analysis-view') {
                    initializeGlobantCharts();
                }
            }

            // Function to create and animate rain items
            function createRainEffect(emoji, count, animationDuration, animationDelaySpread) {
                for (let i = 0; i < count; i++) {
                    const rainItem = document.createElement('span');
                    rainItem.classList.add('rain-item');
                    rainItem.textContent = emoji;
                    
                    const size = Math.random() * (24 - 10) + 10; 
                    rainItem.style.fontSize = `${size}px`;
                    rainItem.style.left = `${Math.random() * 100}vw`; 
                    rainItem.style.animationDuration = `${parseFloat(animationDuration) + (Math.random() * 5 - 2.5)}s`; 
                    rainItem.style.animationDelay = `${Math.random() * parseFloat(animationDelaySpread) * -1}s`; 
                    
                    rainLayer.appendChild(rainItem);
                }
            }


            // Event Listeners for main navigation
            homeButton.addEventListener('click', () => showSection(homeSection));
            homeNavLink.addEventListener('click', () => showSection(homeSection));
            investigacionesNavLink.addEventListener('click', () => showSection(investigacionesSection));
            wikiNavLink.addEventListener('click', () => showSection(wikiSection));
            principiosNavLink.addEventListener('click', () => showSection(principiosSection));
            cryptoNavLink.addEventListener('click', () => showSection(cryptoSection)); 
            herramientasNavLink.addEventListener('click', () => showSection(herramientasSection));

            // Event Listeners for quick links from home
            if (quickLinkInvestigaciones) {
                quickLinkInvestigaciones.addEventListener('click', () => showSection(investigacionesSection));
            }
            if (quickLinkWiki) {
                quickLinkWiki.addEventListener('click', () => showSection(wikiSection));
            }
            if (quickLinkPrincipios) {
                quickLinkPrincipios.addEventListener('click', () => showSection(principiosSection));
            }
            if (quickLinkCrypto) {
                quickLinkCrypto.addEventListener('click', () => showSection(cryptoSection)); 
            }
            if (quickLinkHerramientas) {
                quickLinkHerramientas.addEventListener('click', () => showSection(herramientasSection));
            }

            // Event listener for Globant card (from Investigaciones section)
            if (globantCard) {
                globantCard.addEventListener('click', () => {
                    showSection(globantAnalysisView);
                    initializeGlobantCharts(); 
                });
            }

            // Event listener for "Ver White Paper de Bitcoin" button (now inside #crypto-section)
            if (viewBitcoinWhitePaperButton) {
                viewBitcoinWhitePaperButton.addEventListener('click', () => {
                    showSection(bitcoinWhitePaperSection);
                });
            }

            // Event listeners for "Volver al Inicio" / "Volver a Investigaciones" buttons
            backToHomeBtns.forEach(button => {
                button.addEventListener('click', () => {
                    showSection(homeSection);
                });
            });

            if (backToInvestigacionesBtn) {
                backToInvestigacionesBtn.addEventListener('click', (event) => {
                    event.preventDefault(); 
                    showSection(investigacionesSection);
                });
            }

            // Event listener for "Volver a la Sección Bitcoin" button
            if (backToBitcoinSectionBtn) {
                backToBitcoinSectionBtn.addEventListener('click', () => {
                    showSection(cryptoSection);
                });
            }


            // Globant specific data and chart initialization logic (reused from previous turn)
            const reportData = {
                geoRevenue: {
                    labels: ['Norteamérica', 'Latinoamérica', 'Europa', 'Nuevos Mercados'],
                    data: [54.1, 19.7, 19.6, 6.6]
                },
                financials: {
                    labels: ['2022', '2023', '2024', '2025 (Est.)'],
                    revenue: [1780.2, 2095.9, 2415.7, 2445.0],
                    eps: [5.08, 5.74, 6.40, 6.12]
                },
                valuation: {
                    labels: ['Globant', 'Pares', 'Industria TI'],
                    peRatio: [26.6, 17, 29.8],
                    psRatio: [1.18, 0.57, null]
                }
            };

            const chartColors = {
                blue: 'rgba(74, 144, 226, 0.8)',
                blue_bg: 'rgba(74, 144, 226, 0.2)',
                teal: 'rgba(77, 182, 172, 0.8)',
                teal_bg: 'rgba(77, 182, 172, 0.2)',
                gray: 'rgba(158, 158, 158, 0.8)',
                gray_bg: 'rgba(158, 158, 158, 0.2)',
            };

            const commonChartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            font: {
                                family: 'Inter'
                            }
                        }
                    },
                    tooltip: {
                        enabled: true,
                        backgroundColor: '#333',
                        titleFont: { family: 'Inter', weight: 'bold' },
                        bodyFont: { family: 'Inter' },
                        padding: 10,
                        cornerRadius: 4,
                        boxPadding: 4
                    }
                },
                scales: {
                    x: {
                        ticks: {
                            font: { family: 'Inter' }
                        },
                        grid: {
                            display: false
                        }
                    },
                    y: {
                        ticks: {
                            font: { family: 'Inter' }
                        },
                        grid: {
                            color: '#e5e7eb'
                        }
                    }
                }
            };

            let geoChartInstance = null;
            let financialsChartInstance = null;
            let valuationChartInstance = null;

            function initializeGlobantCharts() {
                // Destroy existing chart instances if they exist to prevent duplicates
                if (geoChartInstance) geoChartInstance.destroy();
                if (financialsChartInstance) financialsChartInstance.destroy();
                if (valuationChartInstance) valuationChartInstance.destroy();

                const ctxGeo = document.getElementById('geoRevenueChart');
                if (ctxGeo) {
                    geoChartInstance = new Chart(ctxGeo, {
                        type: 'doughnut',
                        data: {
                            labels: reportData.geoRevenue.labels,
                            datasets: [{
                                label: 'Ingresos por Geografía',
                                data: reportData.geoRevenue.data,
                                backgroundColor: [
                                    'rgba(74, 144, 226, 0.8)',
                                    'rgba(77, 182, 172, 0.8)',
                                    'rgba(245, 166, 35, 0.8)',
                                    'rgba(189, 16, 224, 0.8)'
                                ],
                                borderColor: '#FDFBF8',
                                borderWidth: 2
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    position: 'right',
                                    labels: {
                                        font: { family: 'Inter' },
                                        boxWidth: 15,
                                        padding: 15
                                    }
                                },
                                tooltip: {
                                    callbacks: {
                                        label: function(context) {
                                            let label = context.label || '';
                                            if (label) {
                                                label += ': ';
                                            }
                                            if (context.parsed !== null) {
                                                label += context.parsed + '%';
                                            }
                                            return label;
                                        }
                                    }
                                }
                            }
                        }
                    });
                }

                const ctxFinancials = document.getElementById('financialsChart');
                if (ctxFinancials) {
                    financialsChartInstance = new Chart(ctxFinancials, {
                        type: 'bar',
                        data: {
                            labels: reportData.financials.labels,
                            datasets: [
                                {
                                    label: 'Ingresos (Millones USD)',
                                    data: reportData.financials.revenue,
                                    backgroundColor: chartColors.blue_bg,
                                    borderColor: chartColors.blue,
                                    borderWidth: 2,
                                    yAxisID: 'y',
                                    order: 2
                                },
                                {
                                    label: 'EPS Ajustado (USD)',
                                    data: reportData.financials.eps,
                                    type: 'line',
                                    borderColor: chartColors.teal,
                                    backgroundColor: chartColors.teal,
                                    borderWidth: 3,
                                    yAxisID: 'y1',
                                    tension: 0.2,
                                    order: 1
                                }
                            ]
                        },
                        options: {
                            ...commonChartOptions,
                            scales: {
                                x: { ...commonChartOptions.scales.x },
                                y: {
                                    type: 'linear',
                                    display: true,
                                    position: 'left',
                                    title: { display: true, text: 'Ingresos (Millones USD)' },
                                    ...commonChartOptions.scales.y
                                },
                                y1: {
                                    type: 'linear',
                                    display: true,
                                    position: 'right',
                                    title: { display: true, text: 'EPS Ajustado (USD)' },
                                    grid: { drawOnChartArea: false },
                                    ...commonChartOptions.scales.y
                                }
                            }
                        }
                    });
                }

                const ctxValuation = document.getElementById('valuationChart');
                if (ctxValuation) {
                    valuationChartInstance = new Chart(ctxValuation, {
                        type: 'bar',
                        data: {
                            labels: ['Ratio P/E Trailing', 'Ratio P/S Trailing'],
                            datasets: [
                                {
                                    label: 'Globant',
                                    data: [reportData.valuation.peRatio[0], reportData.valuation.psRatio[0]],
                                    backgroundColor: chartColors.blue_bg,
                                    borderColor: chartColors.blue,
                                    borderWidth: 2
                                },
                                {
                                    label: 'Pares',
                                    data: [reportData.valuation.peRatio[1], reportData.valuation.psRatio[1]],
                                    backgroundColor: chartColors.gray_bg,
                                    borderColor: chartColors.gray,
                                    borderWidth: 2
                                },
                                {
                                    label: 'Industria TI',
                                    data: [reportData.valuation.peRatio[2], reportData.valuation.psRatio[2]],
                                    backgroundColor: chartColors.teal_bg,
                                    borderColor: chartColors.teal,
                                    borderWidth: 2
                                }
                            ]
                        },
                        options: {
                            ...commonChartOptions,
                            plugins: {
                                ...commonChartOptions.plugins,
                                tooltip: {
                                    ...commonChartOptions.plugins.tooltip,
                                    callbacks: {
                                        label: function(context) {
                                            let label = context.dataset.label || '';
                                            if (label) {
                                                label += ': ';
                                            }
                                            if (context.parsed.y !== null) {
                                                label += context.parsed.y + 'x';
                                            }
                                            return label;
                                        }
                                    }
                                }
                            },
                            scales: {
                                ...commonChartOptions.scales,
                                y: {
                                    ...commonChartOptions.scales.y,
                                    title: {
                                        display: true,
                                        text: 'Múltiplo (x)'
                                    }
                                }
                            }
                        }
                    });
                }
            }

            // Expandable card logic for WIKI and Risks/Opps sections
            const expandableCards = document.querySelectorAll('.expandable-card button');
            expandableCards.forEach(button => {
                button.addEventListener('click', () => {
                    const card = button.parentElement;
                    card.classList.toggle('open');
                });
            });

            // --- Bitcoin DCA Calculator Logic ---
            // Moved to Herramientas section, check if elements exist
            const btcMonthlyAmountInput = document.getElementById('btcMonthlyAmount');
            const btcStartYearInput = document.getElementById('btcStartYear');
            const calculateBtcDCAButton = document.getElementById('calculateBtcDCA');
            const btcResultSpan = document.getElementById('btcResult');
            const btcChartCanvas = document.getElementById('btcChart');
            let btcChartInstance = null;

            // Simplified historical Bitcoin price approximations (not real data, for illustration only)
            const btcHistoricalPrices = {
                2010: 0.1, 2011: 1, 2012: 10, 2013: 100, 2014: 400, 2015: 300, 2016: 600, 2017: 15000, 2018: 3500,
                2019: 7000, 2020: 20000, 2021: 50000, 2022: 25000, 2023: 35000, 2024: 50000, 2025: 70000 // Hypothetical future
            };

            function calculateBtcDCA() {
                // Ensure elements exist before trying to access their properties
                if (!btcMonthlyAmountInput || !btcStartYearInput || !btcResultSpan || !btcChartCanvas) return;

                const monthlyAmount = parseFloat(btcMonthlyAmountInput.value);
                const startYear = parseInt(btcStartYearInput.value);
                const currentYear = new Date().getFullYear();

                if (isNaN(monthlyAmount) || monthlyAmount <= 0 || isNaN(startYear) || startYear < 2010 || startYear > currentYear) {
                    btcResultSpan.textContent = "Ingrese valores válidos.";
                    if (btcChartInstance) btcChartInstance.destroy();
                    return;
                }

                let totalInvested = 0;
                let totalBitcoin = 0;
                const chartLabels = [];
                const chartData = [];

                for (let year = startYear; year <= currentYear; year++) {
                    const pricePerBtc = btcHistoricalPrices[year] || btcHistoricalPrices[currentYear]; // Use current year's price if year not in historical data
                    
                    // For simplification, assume monthly purchase at average annual price
                    for (let month = 0; month < 12; month++) {
                        totalInvested += monthlyAmount;
                        totalBitcoin += monthlyAmount / pricePerBtc;
                    }
                    chartLabels.push(year.toString());
                    chartData.push(totalBitcoin * pricePerBtc); // Value of holdings at year end
                }

                const finalValue = totalBitcoin * btcHistoricalPrices[currentYear]; // Value at today's hypothetical price
                btcResultSpan.textContent = `$${finalValue.toLocaleString('es-ES', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;

                // Update BTC Chart
                if (btcChartInstance) btcChartInstance.destroy();
                btcChartInstance = new Chart(btcChartCanvas, {
                    type: 'line',
                    data: {
                        labels: chartLabels,
                        datasets: [{
                            label: 'Valor de Inversión DCA en Bitcoin ($)',
                            data: chartData,
                            borderColor: 'rgba(245, 166, 35, 0.8)',
                            backgroundColor: 'rgba(245, 166, 35, 0.2)',
                            fill: true,
                            tension: 0.2
                        }]
                    },
                    options: {
                        ...commonChartOptions,
                        scales: {
                            x: {
                                ...commonChartOptions.scales.x,
                                title: { display: true, text: 'Año' }
                            },
                            y: {
                                ...commonChartOptions.scales.y,
                                title: { display: true, text: 'Valor ($)' },
                                ticks: {
                                    callback: function(value) {
                                        return '$' + value.toLocaleString('es-ES');
                                    }
                                }
                            }
                        },
                        plugins: {
                            ...commonChartOptions.plugins,
                            tooltip: {
                                ...commonChartOptions.plugins.tooltip,
                                callbacks: {
                                    label: function(context) {
                                        return context.dataset.label + ': $' + context.parsed.y.toLocaleString('es-ES', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
                                    }
                                }
                            }
                        }
                    }
                });
            }
            // Only add event listener if button exists
            if (calculateBtcDCAButton) {
                calculateBtcDCAButton.addEventListener('click', calculateBtcDCA);
            }


            // --- Compound Interest Calculator Logic ---
            // Moved to Herramientas section, check if elements exist
            const initialAmountInput = document.getElementById('initialAmount');
            const monthlyDepositInput = document.getElementById('monthlyDeposit');
            const annualInterestRateInput = document.getElementById('annualInterestRate');
            const investmentYearsInput = document.getElementById('investmentYears');
            const calculateCompoundInterestButton = document.getElementById('calculateCompoundInterest');
            const compoundResultSpan = document.getElementById('compoundResult');
            const compoundChartCanvas = document.getElementById('compoundChart');
            let compoundChartInstance = null;

            function calculateCompoundInterest() {
                // Ensure elements exist before trying to access their properties
                if (!initialAmountInput || !monthlyDepositInput || !annualInterestRateInput || !investmentYearsInput || !compoundResultSpan || !compoundChartCanvas) return;

                let principal = parseFloat(initialAmountInput.value);
                const monthlyDeposit = parseFloat(monthlyDepositInput.value);
                const annualRate = parseFloat(annualInterestRateInput.value) / 100;
                const years = parseInt(investmentYearsInput.value);

                if (isNaN(principal) || isNaN(monthlyDeposit) || isNaN(annualRate) || isNaN(years) || years < 1) {
                    compoundResultSpan.textContent = "Ingrese valores válidos.";
                    if (compoundChartInstance) compoundChartInstance.destroy();
                    return;
                }

                const monthlyRate = annualRate / 12;
                const totalMonths = years * 12;

                const chartLabels = [];
                const chartData = [];
                let currentBalance = principal;

                chartLabels.push('Año 0');
                chartData.push(principal);

                for (let year = 1; year <= years; year++) {
                    for (let month = 0; month < 12; month++) {
                        currentBalance += monthlyDeposit;
                        currentBalance *= (1 + monthlyRate);
                    }
                    chartLabels.push(`Año ${year}`);
                    chartData.push(currentBalance);
                }

                compoundResultSpan.textContent = `$${currentBalance.toLocaleString('es-ES', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;

                // Update Compound Interest Chart
                if (compoundChartInstance) compoundChartInstance.destroy();
                compoundChartInstance = new Chart(compoundChartCanvas, {
                    type: 'line',
                    data: {
                        labels: chartLabels,
                        datasets: [{
                            label: 'Valor Total ($)',
                            data: chartData,
                            borderColor: 'rgba(77, 182, 172, 0.8)',
                            backgroundColor: 'rgba(77, 182, 172, 0.2)',
                            fill: true,
                            tension: 0.2
                        }]
                    },
                    options: {
                        ...commonChartOptions,
                        scales: {
                            x: {
                                ...commonChartOptions.scales.x,
                                title: { display: true, text: 'Año' }
                            },
                            y: {
                                ...commonChartOptions.scales.y,
                                title: { display: true, text: 'Valor ($)' },
                                ticks: {
                                    callback: function(value) {
                                        return '$' + value.toLocaleString('es-ES');
                                    }
                                }
                            }
                        },
                        plugins: {
                            ...commonChartOptions.plugins,
                            tooltip: {
                                ...commonChartOptions.plugins.tooltip,
                                callbacks: {
                                    label: function(context) {
                                        return context.dataset.label + ': $' + context.parsed.y.toLocaleString('es-ES', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
                                    }
                                }
                            }
                        }
                    }
                });
            }
            // Only add event listener if button exists
            if (calculateCompoundInterestButton) {
                calculateCompoundInterestButton.addEventListener('click', calculateCompoundInterest);
            }


            // Initial view and chart calculations
            showSection(homeSection); 
            // Only call calculator functions if their elements exist
            if (herramientasSection) {
                calculateBtcDCA();
                calculateCompoundInterest();
            }
        });
    </script>
</body>
</html>
